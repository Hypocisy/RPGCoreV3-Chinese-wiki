Directory: "./../Items/affixes"  
Module: Items

Affixes reference to random modifiers on an item. An item will receive some random affixes upon being generated, the empty affix slots can be filled using [[Items: Materials]] 

# Configuration (./../itemmodule/config.yml)

The general configuration option of the affixing system.

| Option | Type | Description |
|-|-|-|
| title | string | the title of the details to be printed on the item |
| multi-affix-chance | percentage | fill a slot until failing the roll, only on creation |
| slots-by-rarity | rarity mapping | rarity mapped to the extra affix slots on the item |
| affixing-groups | section | items may only roll affixes of their specific group |

# Configuration (./../itemmodule/items)

An item needs to be specified with a number of things so that it can roll affixes. Missing one of these may cause a failure, so make sure you got all of them defined.

If you define a negative number of affixes on the item, you can prevent item rarity from pushing the number up.

| Option | Type | Description |
|-|-|-|
| custom-tags.affixing-pool | string | only affixes of this group shall be rolled |
| custom-tags.default-affixes | integer | base amount of slots for affixes |

# Configuration (./../itemmodule/affixes) - Manually

You can manually define affixes like following

| Option | Type | Description |
|-|-|-|
| displayname | string | the name of the affix, currently unused |
| prefix | string | the name of the affix when it is a prefix, currently unused |
| suffix | string | the name of the affix when it is a suffix, currently unused | 
| effects | attribute list | entity attribute modifiers |
| support-skills | skill:level list | socketed skills will be supported by |
| main-skills | skill:level list | socketed skills are supporting |
| blocking-namespace | string | when namespace is used cannot roll affix |
| weight | decimal | the relative chance to pick this item |
| tier | integer | the tier of this affix, higher should be better |
| force-description | string list | override the autogenerated documentation |

Below are two affixes, you can only roll one of them on your item.The first is more common, the latter a bit more rare. The rarer one offers better benefits

```yml
STRENGTH_T1:
  # displayname of affix, unused currently
  displayname: "Strength"
  # name when a prefix, unused currently
  prefix: "Powerful"
  # name when a suffix, unused currently
  suffix: "of Power"
  # entity attributes gained
  effects:
  - "ADD RANGE(15,25) TO STRENGTH"
  # support all link groups with these skills
  support-skills: []
  # all skills on the item will also support this
  main-skills: []
  # prevent all affixes of the same type from rolling
  blocking-namespace: "STRENGTH"
  # the chance to roll this affix from all of them
  weight: 1.0
  # the tier/grade/rank of the affix
  tier: 1
STRENGTH_T2:
  # displayname of affix, unused currently
  displayname: "Strength"
  # name when a prefix, unused currently
  prefix: "Herculean"
  # name when a suffix, unused currently
  suffix: "of Hercules"
  # entity attributes gained
  effects:
  - "ADD RANGE(25,50) TO STRENGTH"
  # support all link groups with these skills
  support-skills: []
  # all skills on the item will also support this
  main-skills: []
  # prevent all affixes of the same type from rolling
  blocking-namespace: "STRENGTH"
  # the chance to roll this affix from all of them
  weight: 0.5
  # the tier/grade/rank of the affix
  tier: 2
```

# Configuration (./../itemmodule/affixes) - Assisted

If you want to reduce your workload, you can utilize the generator notation to assist you in writing the affixes. Add `auto-generator: true` as an option and instead of having to type every affix tier out by hand it will generate them in bulk using a fairly compact notation.

| Option | Type | Description |
|-|-|-|
| id-prefix | string | the namespace and prefix shared by all generated affixes |
| weight-scalar | formula | a formula where 0<=x<size calculcating the weighting of the generated affix | 
| generator.name-pool | string list | a list of strings defining the 'displayname' | 
| generator.prefix-pool | string list | a list of strings defining the 'prefix' | 
| generator.suffix-pool | string list | a list of strings defining the 'suffix' | 
| generator.effect-pool | nested attribute list | a list of attribute lists defining the 'effects' | 
| generator.support-pool | nested skill:level list | a list of skill lists defining the 'support-skills' |
| generator.skill-pool | nested skill:level list | a list of skill lists defining the 'main-skills' |
| generator.force-description | string list list | a list of string lists defining the 'force-description' |

An example notation for an affix, in generator notation, would be something like below. This will create three affixes for intelligence in tiers of 10-20, 20-30 and 30-40 with the last one being the rarest outcome. 

```yml
intelligence:
  # Generate the affixes from the following specifications
  auto-generator: true
  # Id group of the affix, no duplicates will be generated
  id-prefix: INTELLIGENCE
  # Weight formula where x=tier increments starting from 0
  weight-scalar: 4*(1/(2^x))
  generator:
    # Name is required but not used yet
    name-pool: [Calculated, Arcane, Mystic]
    # Prefix is required but not used yet
    prefix-pool: ["Calculated", "Arcane", "Mystic"]
    # Suffix is required but not used yet
    suffix-pool: ["of the Calculated", "of the Arcane", "of the Mystic"]
    # List of attribute effects (optional)
    effect-pool:
    - ["ADD RANGE(10,20) to INTELLIGENCE"]
    - ["ADD RANGE(20,30) to INTELLIGENCE"]
    - ["ADD RANGE(30,40) to INTELLIGENCE"]
```